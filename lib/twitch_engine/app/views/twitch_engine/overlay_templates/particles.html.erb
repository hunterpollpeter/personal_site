<%
  color = @options['color']
  name = @options['name']
%>

<div id="video-wrapper">
  <div id="particles"></div>
  <div id="video-background">
    <div id="video"></div>
  </div>
</div>
<ul id="notifications">
  <li>
    <div class="icon">
      <svg class="svg svg-heart" width="20px" height="20px" version="1.1" viewBox="0 0 20 20" x="0px" y="0px"><path d="M13.535 3C11.998 3 10.767 4.046 10 4.937 9.232 4.046 8.002 3 6.465 3 3.535 3 2 5.347 2 7.665c0 3.683 4.762 7.488 6.808 8.954a2.047 2.047 0 0 0 2.383 0c2.048-1.466 6.81-5.271 6.81-8.954C18 5.347 16.466 3 13.534 3" fill-rule="evenodd"></path></svg>
    </div>
    <br>
  </li>
  <li>
  <div class="icon">
    <svg xmlns="http://www.w3.org/2000/svg" class="equalizer" viewBox="0 0 128 128">
      <g>
        <rect class="bar" transform="translate(25,0)" y="15"></rect>
        <rect class="bar" transform="translate(50,0)" y="15"></rect>
        <rect class="bar" transform="translate(75,0)" y="15"></rect>
      </g>
    </svg>
  </div>
  <br>
</li>
</ul>
<div id="text"></div>
<% if @preview %>
  <div id="preview_cam"></div>
  <% content_for :style do %>
    <style>
      #preview_cam {
        background-image: url(<%= image_url('twitch_engine/me.png') %>), url(https://images.unsplash.com/photo-1515362778563-6a8d0e44bc0b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=b550414â€¦&w=1000&q=80);
        background-size: 50%, cover;
        background-repeat: no-repeat;
        background-position: center 50px , center;
        filter: grayscale(100%);
        position: absolute;
        top: 76px;
        left: 25px;
        width: 400px;
        height: 224px;
        z-index: -1;
      }
    </style>
  <% end %>
<%end %>
<% content_for :script do %>
  <script>
    $(function() {
      $('#video').css({'border-top-color': '<%= color %>'});
      $('#text').html( '<%= name %>' );
      $('.icon').css({'background-color': '<%= color %>'});
      options.particles.color.value = '<%= color %>';
      options.particles.line_linked.color = '<%= color %>';
      particlesJS('particles', options);
    });
  </script>
<% end %>